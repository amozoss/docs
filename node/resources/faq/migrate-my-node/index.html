<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="How do I migrate my node to a new device? #  To migrate your Node to a new drive or computer, you first need to copy both the contents of your storage folder, as well as your identity folder to the new location.
Windows Your default identity folder is located in: %APPDATA%\Storj\Identity\storagenode
Your default orders folder is located in &#34;%ProgramFiles%\Storj\Storage Node\orders&#34;
To migrate your Windows storage node you can follow this guide: How to migrate the Windows GUI node from one physical location to another?"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="How do I migrate my node to a new device?"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="/node/resources/faq/migrate-my-node/"><title>How do I migrate my node to a new device? | Storj Docs</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.f89e84d24aa67a9627cfb7a3b446b3b062a451eebceb8d5f060601553c0a6cfb.css><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.afc156b59ccdf08ee689010e2667621d6ac7b00f30a969882371f26dd69b9b61.js></script>
<script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js></script>
<link rel=alternate type=application/rss+xml href=/node/resources/faq/migrate-my-node/index.xml title="Storj Docs"><link rel=subresource href=/fonts/Inter-roman.var.woff2><link rel=subresource href=/fonts/Inter-italic.var.woff2></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Storj Docs</span></a></h2><div class=book-search><input type=text id=book-search-input data-filter=/node/ placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul class=book-first-sections><li><a href=/dcs/>DCS</a></li><li class=active><a href=/node/>Node Operator</a></li></ul><ul><li class=book-section-flat><span>Before You Begin</span><ul><li><a href=https://registration.storj.io class=book-external-link target=_blank rel=noopener>Signup for Auth Token<img src=/svg/external-link.svg class=book-icon alt="External Link"></a></li><li><a href=/node/before-you-begin/auth-token/>Authorization Token</a></li><li><a href=/node/before-you-begin/prerequisites/>Prerequisites</a></li><li><a href=/node/before-you-begin/important-security-consideration/>Important Security Consideration</a></li></ul></li><li class=book-section-flat><span>Dependencies</span><ul><li><a href=/node/dependencies/port-forwarding/>Port Forwarding</a></li><li><input type=checkbox id=section-b3742f83cbd971984704e578f08bf0f3 class=toggle>
<label for=section-b3742f83cbd971984704e578f08bf0f3 class="flex justify-between"><a href=/node/dependencies/quic-requirements/>QUIC requirements</a></label><ul><li><a href=/node/dependencies/quic-requirements/linux-configuration-for-udp/>Linux Configuration for UDP</a></li></ul></li><li><a href=/node/dependencies/identity/>Identity</a></li><li><input type=checkbox id=section-dbdab924f5bd29fffe20af6bd200b671 class=toggle>
<label for=section-dbdab924f5bd29fffe20af6bd200b671 class="flex justify-between"><a href=/node/dependencies/storage-node-operator-payout-information/>Storage Node Operator Payout Information</a></label><ul><li><a href=/node/dependencies/storage-node-operator-payout-information/zk-sync-opt-in-for-snos/>Configuring zkSync Payments</a></li></ul></li></ul></li><li class=book-section-flat><span>Setup</span><ul><li><input type=checkbox id=section-bedd3651ec081b448b597f404e2fa61d class=toggle>
<label for=section-bedd3651ec081b448b597f404e2fa61d class="flex justify-between"><a href=/node/setup/cli/>CLI Install</a></label><ul><li><a href=/node/setup/cli/docker/>Docker</a></li><li><a href=/node/setup/cli/storage-node/>Storage Node</a></li><li><a href=/node/setup/cli/software-updates/>Software Updates</a></li><li><a href=/node/setup/cli/dashboard/>Dashboard</a></li></ul></li><li><input type=checkbox id=section-5ac02fb11074a73d575b39d7c3eaef61 class=toggle>
<label for=section-5ac02fb11074a73d575b39d7c3eaef61 class="flex justify-between"><a href=/node/setup/gui-windows/>GUI Install - Windows</a></label><ul><li><a href=/node/setup/gui-windows/storage-node/>Storage Node</a></li><li><a href=/node/setup/gui-windows/dashboard/>Dashboard</a></li></ul></li></ul></li><li class=book-section-flat><span>SNO Applications</span><ul><li><a href=/node/sno-applications/qnap-storage-node-app/>QNAP Storage Node App</a></li></ul></li><li class=book-section-flat><span>Resources</span><ul><li><input type=checkbox id=section-723c8a61b9d77ed14e6923c8b63c2be6 class=toggle checked>
<label for=section-723c8a61b9d77ed14e6923c8b63c2be6 class="flex justify-between"><a href=/node/resources/faq/>FAQ's</a></label><ul><li><a href=/node/resources/faq/how-the-online-score-is-calculated/>How is the online score calculated?</a></li><li><a href=/node/resources/faq/where-can-i-check-for-a-new-version/>Where can I check for a new version?</a></li><li><a href=/node/resources/faq/check-my-node/>How do I check my node when I'm away from my machine?</a></li><li><a href=/node/resources/faq/machine-restart-shutdown/>What if my machine restarts or shuts down?</a></li><li><a href=/node/resources/faq/system-maintenance/>How do I shutdown my node for system maintenance?</a></li><li><a href=/node/resources/faq/other-commands/>What other commands can I run?</a></li><li><a href=/node/resources/faq/check-logs/>How do I check my logs?</a></li><li><a href=/node/resources/faq/redirect-logs/>How do I redirect my logs to a file?</a></li><li><a href=/node/resources/faq/how-do-i-check-my-l2-payouts/>How do I check my L2 zkSync payouts?</a></li><li><a href=/node/resources/faq/held-back-amount/>How does held back amount work?</a></li><li><a href=/node/resources/faq/how-do-i-change-my-parameters-such-as-payout-address-allotted-storage-space-and-bandwidth/>How do I change values like wallet address or storage capacity?</a></li><li><a href=/node/resources/faq/linux-static-mount/>How do I setup static mount via /etc/fstab for Linux?</a></li><li><a href=/node/resources/faq/how-do-i-estimate-my-potential-earnings-for-given-amount-of-space-and-bandwidth/>How do I estimate my potential earnings for a given amount of space and bandwidth?</a></li><li><a href=/node/resources/faq/storing-more-data/>Why am I not storing more data?</a></li><li><a href=/node/resources/faq/storage-bandwidth-usage/>Why is the network not using all of my storage and bandwidth?</a></li><li><a href=/node/resources/faq/low-payouts/>Why are my payouts so low?</a></li><li><a href=/node/resources/faq/estimate-payouts/>How do I estimate my payouts per Satellite?</a></li><li><input type=checkbox id=section-499e43878357cfbe54d3c81b0862cf13 class=toggle checked>
<label for=section-499e43878357cfbe54d3c81b0862cf13 class="flex justify-between"><a href=/node/resources/faq/migrate-my-node/ class=active>How do I migrate my node to a new device?</a></label><ul><li><a href=/node/resources/faq/migrate-my-node/migrating-from-docker-cli-to-a-gui-install-on-windows/>Migrating from Docker CLI to a GUI Install on Windows</a></li><li><a href=/node/resources/faq/migrate-my-node/migrating-from-windows-gui-installation-to-a-docker-cli/>Migrating from Windows GUI installation to Docker CLI</a></li><li><a href=/node/resources/faq/migrate-my-node/how-to-migrate-the-windows-gui-node-from-a-one-physical-location-to-other/>How to migrate the Windows GUI node from one physical location to another?</a></li></ul></li><li><a href=/node/resources/faq/remote-connection/>What if I'm using a remote connection?</a></li><li><a href=/node/resources/faq/how-to-remote-access-the-web-dashboard/>How to remote access the web dashboard</a></li><li><a href=/node/resources/faq/cli-on-windows-mac/>What if I'm using the CLI Install on Windows / MacOS?</a></li><li><a href=/node/resources/faq/how-to-add-an-additional-drive/>How to add an additional drive?</a></li><li><a href=/node/resources/faq/where-can-i-find-a-config-yaml/>Where can I find the config.yaml?</a></li></ul></li></ul></li><li class=book-section-flat><span>Have a Question</span><ul><li><a href=https://forum.storj.io/c/sno-category class=book-external-link target=_blank rel=noopener>Ask on our Forum<img src=/svg/external-link.svg class=book-icon alt="External Link"></a></li><li><a href=https://support.storj.io class=book-external-link target=_blank rel=noopener>Search our Knowledge Base<img src=/svg/external-link.svg class=book-icon alt="External Link"></a></li><li><a href=https://github.com/storj/storj/issues class=book-external-link target=_blank rel=noopener>Check our Github Issues<img src=/svg/external-link.svg class=book-icon alt="External Link"></a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>How do I migrate my node to a new device?</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><div class=toc-title>Contents</div><nav id=TableOfContents><ul><li><ul><li><a href=#migrating-with-rsync>Migrating with rsync</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=how-do-i-migrate-my-node-to-a-new-device>How do I migrate my node to a new device?
<a class=anchor href=#how-do-i-migrate-my-node-to-a-new-device>#</a></h1><p>To migrate your Node to a new drive or computer, you first need to copy both the contents of your storage folder, as well as your identity folder to the new location.</p><div class=book-tabs><input type=radio class=toggle name=tabs-id1 id=tabs-id1-0 checked>
<label for=tabs-id1-0>Windows</label><div class="book-tabs-content markdown-inner"><p>Your default identity folder is located in: <code>%APPDATA%\Storj\Identity\storagenode</code></p><p>Your default orders folder is located in <code>"%ProgramFiles%\Storj\Storage Node\orders"</code></p><p>To migrate your Windows storage node you can follow this guide:
<a href=/node/resources/faq/migrate-my-node/how-to-migrate-the-windows-gui-node-from-a-one-physical-location-to-other/>How to migrate the Windows GUI node from one physical location to another?</a> The only difference - you do not need to share folders, since they are available locally, just use the local paths.</p><p>Also, you can
<a href=https://docs.microsoft.com/en-us/windows/wsl/install-win10>enable WSL, install Ubuntu from the Microsoft store</a> and use the
<a href=/node/resources/faq/migrate-my-node/#migrating-with-rsync>Migrating with rsync</a> guide. In this case your drives are mounted automatically. For example, <code>D:</code> disk will be mounted to the <code>/mnt/d</code>.</p><p>To migrate from the Docker installation to a Windows GUI, please, follow this guide:
<a href=/node/resources/faq/migrate-my-node/migrating-from-docker-cli-to-a-gui-install-on-windows/>Migrating from Docker CLI to a GUI Install on Windows</a>.</p><p>To migrate from the Windows GUI to the Docker installation, please, follow this guide:
<a href=/node/resources/faq/migrate-my-node/migrating-from-windows-gui-installation-to-a-docker-cli/>Migrating from Windows GUI installation to a Docker CLI</a>.</p></div><input type=radio class=toggle name=tabs-id1 id=tabs-id1-1>
<label for=tabs-id1-1>Linux</label><div class="book-tabs-content markdown-inner"><p>Your default identity folder is located in: <code>~/.local/share/storj/identity/storagenode</code></p><p>Your default orders folder is located in the data location.</p><p><a href=/node/resources/faq/migrate-my-node/#migrating-with-rsync>Migrating with rsync</a></p></div><input type=radio class=toggle name=tabs-id1 id=tabs-id1-2>
<label for=tabs-id1-2>ARM-based OS</label><div class="book-tabs-content markdown-inner"><p>On Raspberry Pi, by default your identity folder is located in <em>(the path may be different for other ARM platforms)</em>: <code>/home/pi/.local/share/storj/identity/storagenode</code></p><p>Your default orders folder is located in the data location.</p><p><a href=/node/resources/faq/migrate-my-node/#migrating-with-rsync>Migrating with rsync</a></p></div><input type=radio class=toggle name=tabs-id1 id=tabs-id1-3>
<label for=tabs-id1-3>macOS</label><div class="book-tabs-content markdown-inner"><p>Your default identity folder is located in: <code>"/Users/USER/Library/Application Support/Storj/identity/storagenode"</code></p><p>Your default orders folder is located in the data location.</p><p><a href=/node/resources/faq/migrate-my-node/#migrating-with-rsync>Migrating with rsync</a></p></div></div><h3 id=migrating-with-rsync>Migrating with rsync
<a class=anchor href=#migrating-with-rsync>#</a></h3><p>We will assume that your parameters look like this:</p><ul><li>the source folder where the existing identity is located is <code>/mnt/storj/identity/storagenode</code>;</li><li>the source folder where the existing stored data is located is <code>/mnt/storj/storagenode/storage</code>;</li><li>the source folder where the existing orders folder is located is <code>/mnt/storj/storagenode/orders</code>;</li><li>the destination folder the existing identity will be copied to is<code>/mnt/storj2/storagenode-new/identity</code>;</li><li>the destination folder the existing stored data will be copied to is <code>/mnt/storj2/storagenode-new/storage</code>.</li><li>the destination folder the existing orders will be copied to is <code>/mnt/storj2/storagenode-new/orders</code>.</li></ul><p>To migrate your identity, orders and data to the new location, you can use the <code>rsync</code> command (please, replace the example paths mentioned above to your own!):</p><ol><li>Open a new terminal</li><li>Keep your original storage node running</li><li>Copy the identity:</li></ol><pre tabindex=0><code>rsync -aP /mnt/storj/identity/storagenode/ /mnt/storj2/storagenode-new/identity/
</code></pre><p>4. Copy the orders</p><pre tabindex=0><code>rsync -aP /mnt/storj/storagenode/orders/ /mnt/storj2/storagenode-new/orders/
</code></pre><p>5. Copy the data</p><pre tabindex=0><code>rsync -aP /mnt/storj/storagenode/storage/ /mnt/storj2/storagenode-new/storage/
</code></pre><p>6. Repeat running the orders (step 4.) and data copying command (step 5.) a few more times until the difference would be negligible, then</p><p>7. Stop the storage node (see
<a href=/node/resources/faq/system-maintenance/>How do I shutdown my node for system maintenance?</a>)</p><p>8. Remove the old container</p><pre tabindex=0><code>docker rm storagenode
</code></pre><p>9. Run the copying command with a <code>--delete</code> parameter to remove deleted files from the destination:</p><pre tabindex=0><code>rsync -aP --delete /mnt/storj/storagenode/orders/ /mnt/storj2/storagenode-new/orders/
</code></pre><pre tabindex=0><code>rsync -aP --delete /mnt/storj/storagenode/storage/ /mnt/storj2/storagenode-new/storage/
</code></pre><p>10. Now you can copy <code>config.yaml</code> file and <code>revocation.db</code> to the new location:</p><pre tabindex=0><code>cp /mnt/storj/storagenode/config.yaml /mnt/storj2/storagenode-new/
cp /mnt/storj/storagenode/revocation.db /mnt/storj2/storagenode-new/revocation.db
</code></pre><p>11. After you copied over all the necessary files, update your <code>--mount</code> parameters in your
<a href=/node/setup/cli/storage-node/#running-the-storage-node>docker run command</a>. For our example, it will look like this (we only show a partial example of the new<code>--mount</code> parameter lines, not the entire <code>docker run</code> command!):</p><pre tabindex=0><code>--mount type=bind,source=/mnt/storj2/storagenode-new/identity,destination=/app/identity \
--mount type=bind,source=/mnt/storj2/storagenode-new,destination=/app/config \
</code></pre><blockquote class="book-hint danger">The network-attached storage location could work, but it is neither supported nor recommended!</blockquote><blockquote class="book-hint warning">Please, note - we intentionally specified<code>/mnt/storj2/storagenode-new</code> as the data source in the <code>--mount</code> parameter and not <code>/mnt/storj2/storagenode-new/storage</code> because the <code>storagenode</code> docker container will add a subfolder called<code>storage</code> to the path automatically. So please, make sure that your data folder contains a <code>storage</code> subfolder with all the data inside (<code>blobs</code> folder, database files, etc.), otherwise the node will start from scratch since it can&rsquo;t find the data in the right subfolder and will be disqualified in a few hours.</blockquote></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><div class=toc-title>Contents</div><nav id=TableOfContents><ul><li><ul><li><a href=#migrating-with-rsync>Migrating with rsync</a></li></ul></li></ul></nav></div></aside></main></body></html>